BRObject={object:{},init:function(t,e){return(void 0!==e&&e||null==this.object[t])&&(this.object[t]=new bookingRoute(t)),this.object[t]},get:function(t){return null!=this.object[t]&&this.object[t]}};var bookingRoute=function(t){this.model={},this.model.id=t,this.model.source={},this.model.source.fetchUrl="/lookup/citylist1",this.model.source.enable=!0,this.model.destination={},this.model.destination.fetchUrl="/lookup/nearestcitylist",$(".selectize-control INPUT").attr("autocomplete","new-password"),this.initSource=function(t,e,i=!0){this.model.source.selectObj=t,this.model.source.value=e,this.model.source.enable=i,t.on("loaded",(function(t){i?t[0].unlock():t[0].lock()})),this.populateSource(e)},this.disable=function(t){null!=t&&t.lock()},this.disableSource=function(){this.disable(this.model.source.selectObj)},this.disableDestination=function(){this.disable(this.model.destination.selectObj)},this.initDestination=function(t,e,i=!0){this.model.destination.selectObj=t,this.model.destination.value=e,this.model.destination.enable=i},this.populateSource=function(t){this.model.source.value=t,this.populate(this.model.source)},this.changeSource=function(t){this.model.source.value=t,""!=t&&this.populateDestination(this.model.destination.value)},this.changeDestination=function(t){this.model.destination.value=t},this.populateDestination=function(t){if(null!=this.model.destination.selectObj){if(this.model.destination.value=t,this.model.destination.source=this.model.source.selectObj.getValue(),""===this.model.destination.source)return this.model.destination.selectObj.clear(),void this.model.destination.selectObj.disable();this.populate(this.model.destination)}},this.onLoad=function(t,e){t.length>0&&(e.selectObj.enable(),e.selectObj.setValue(e.value)),e.selectObj.trigger("loaded",[e.selectObj])},this.populate=function(t){var e=this;t.selectObj.load((function(i){e.load(i,null,t)}))},this.load=function(t,e,i){var o={};i.hasOwnProperty("value")&&null!==i.value&&(o.city=i.value),i.hasOwnProperty("source")&&null!==i.source&&(o.source=i.source),null!=e&&(o.q=e),xhr=$.ajax({url:i.fetchUrl,dataType:"json",data:o,success:function(e){i.data=e,t(i.data)},error:function(){t()}})}};